!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}(function(e,i){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(o,a){if(a.disabled)return o;var l,u,d=o.files[o.index];return this._audioElement.canPlayType&&this._audioElement.canPlayType(d.type)&&("number"!==e.type(a.maxFileSize)||d.size<=a.maxFileSize)&&(!a.fileTypes||a.fileTypes.test(d.type))&&(l=i.createObjectURL(d))&&((u=this._audioElement.cloneNode(!1)).src=l,u.controls=!0,o.audio=u),o},setAudio:function(e,i){return e.audio&&!i.disabled&&(e.files[e.index][i.name||"preview"]=e.audio),e}}})});